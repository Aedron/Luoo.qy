(window.webpackJsonp=window.webpackJsonp||[]).push([[0],Array(19).concat([function(e,t,n){e.exports=n.p+"./static/media/All.f99ce486.png"},function(e,t,n){e.exports=n.p+"./static/media/Rock&Roll.4c0cf81b.png"},function(e,t,n){e.exports=n.p+"./static/media/Alternative.9181f6a7.png"},function(e,t,n){e.exports=n.p+"./static/media/Ballad.d0a334d7.png"},function(e,t,n){e.exports=n.p+"./static/media/Pop.aa10a70f.png"},function(e,t,n){e.exports=n.p+"./static/media/Electronic.b6133de7.png"},function(e,t,n){e.exports=n.p+"./static/media/Classical.82bd58d3.png"},function(e,t,n){e.exports=n.p+"./static/media/Jazz.0ccf33d1.png"},function(e,t,n){e.exports=n.p+"./static/media/Metal.6c77a80f.png"},function(e,t,n){e.exports=n.p+"./static/media/Punk.08946c89.png"},function(e,t,n){e.exports=n.p+"./static/media/Rap.857deb7e.png"},function(e,t,n){e.exports=n.p+"./static/media/World.c0cd1947.png"},function(e,t,n){e.exports=n.p+"./static/media/Atmosphere.4e807bab.png"},function(e,t,n){e.exports=n.p+"./static/media/Soundtrack.5c125836.png"},function(e,t,n){e.exports=n.p+"./static/media/Reggae.62a4bbab.png"},function(e,t,n){e.exports=n.p+"./static/media/Country.b38bae0f.png"},function(e,t,n){e.exports=n.p+"./static/media/Blues.ec603828.png"},function(e,t,n){e.exports=n.p+"./static/media/Experimental.42b3243c.png"},function(e,t,n){e.exports=n.p+"./static/media/England.bf7c1697.png"},function(e,t,n){e.exports=n.p+"./static/media/PostRock.5fcdc5a9.png"},function(e,t,n){e.exports=n.p+"./static/media/PsychedelicRock.d1078e9f.png"},function(e,t,n){e.exports=n.p+"./static/media/DarkWave.09db007c.png"},function(e,t,n){e.exports=n.p+"./static/media/Mandopop.6af22184.png"},function(e,t,n){e.exports=n.p+"./static/media/Hardcore.6673991c.png"},function(e,t,n){e.exports=n.p+"./static/media/PostPunk.78dd256f.png"},function(e,t,n){e.exports=n.p+"./static/media/logo.9e7d2336.png"},function(e,t,n){e.exports=n.p+"static/media/back.60c3ea29.svg"},function(e,t,n){e.exports=n.p+"static/media/cate.4de0551f.svg"},function(e,t,n){e.exports=n.p+"static/media/search.1e2e7606.svg"},function(e,t,n){e.exports=n.p+"static/media/share.692ee608.svg"},function(e,t,n){e.exports=n.p+"static/media/source.6ddea72c.svg"},function(e,t,n){e.exports=n.p+"static/media/article.228fd61d.svg"},function(e,t,n){e.exports=n.p+"static/media/article-solid.61814e5c.svg"},function(e,t,n){e.exports=n.p+"static/media/single.cf7000b1.svg"},function(e,t,n){e.exports=n.p+"static/media/single-solid.c5909614.svg"},function(e,t,n){e.exports=n.p+"static/media/user.c0bbd436.svg"},function(e,t,n){e.exports=n.p+"static/media/vol.5e5010c4.svg"},function(e,t,n){e.exports=n.p+"static/media/vol-solid.68e6c301.svg"},function(e,t,n){e.exports=n.p+"static/media/like.a0e0c235.svg"},function(e,t,n){e.exports=n.p+"static/media/like2.d7b95f99.svg"},function(e,t,n){e.exports=n.p+"static/media/play.45b2379c.svg"},function(e,t,n){e.exports=n.p+"static/media/play-solid.72fbf313.svg"},function(e,t,n){e.exports=n.p+"static/media/pause.1c7d9d29.svg"},function(e,t,n){e.exports=n.p+"static/media/pause-solid.e03588b2.svg"},function(e,t,n){e.exports=n.p+"static/media/cloud.c4e817e4.svg"},function(e,t,n){e.exports=n.p+"static/media/wave.9cf520c7.svg"},function(e,t,n){e.exports=n.p+"static/media/pre.408b27cf.svg"},function(e,t,n){e.exports=n.p+"static/media/next.718052c9.svg"},function(e,t,n){e.exports=n.p+"static/media/random.01348ee2.svg"},function(e,t,n){e.exports=n.p+"static/media/arrow-left.c1f5eaf2.svg"},function(e,t,n){e.exports=n.p+"static/media/arrow-right.e8277884.svg"},function(e,t,n){e.exports=n.p+"static/media/pre2.8f400242.svg"},function(e,t,n){e.exports=n.p+"static/media/next2.5fb94f74.svg"},function(e,t,n){e.exports=n.p+"static/media/shuffle.003d8ffe.svg"},function(e,t,n){e.exports=n.p+"static/media/loop.512934c2.svg"},function(e,t,n){e.exports=n.p+"static/media/order.c79cb12f.svg"},function(e,t,n){e.exports=n.p+"static/media/expand.1f516ec4.svg"},function(e,t,n){e.exports=n.p+"./static/media/logo.648d73ec.png"},function(e,t,n){e.exports=n(125)},,,,,,,,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){"use strict";n.r(t);var i=n(0),a=n(10),r=n(4),l=n.n(r),c=n(7),o=n(3),s=n(5),u=n(2),p=(n(16),n(1));var g,d=new function e(){var t=this;Object(s.a)(this,e),this.proxies={},this.onceProxies={},this.on=function(e,n){if(t.proxies[e])return t.proxies[e].push(n);t.proxies[e]=[n]},this.once=function(e,n){if(t.onceProxies[e])return t.onceProxies[e].push(n);t.onceProxies[e]=[n]},this.emit=function(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];t.proxies[e]&&t.proxies[e].forEach(function(e){return e.apply(void 0,i)}),t.onceProxies[e]&&(t.onceProxies[e].forEach(function(e){return e.apply(void 0,i)}),t.onceProxies[e]=[])},this.cancel=function(e,n){t.proxies[e]&&(t.proxies[e]=t.proxies[e].filter(function(e){return e!==n}))},this.cancelOnce=function(e,n){t.onceProxies[e]&&(t.onceProxies[e]=t.onceProxies[e].filter(function(e){return e!==n}))},this.cancelAll=function(e){t.proxies[e]&&(t.proxies[e]=[])},this.cancelAllOnce=function(e){t.onceProxies[e]&&(t.onceProxies[e]=[])}};function m(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}!function(e){e[e.ShowVolBackground=0]="ShowVolBackground",e[e.ShowSingleBackground=1]="ShowSingleBackground",e[e.ShowArticleBackground=2]="ShowArticleBackground",e[e.ScrollBackVolTypes=3]="ScrollBackVolTypes",e[e.ScrollBackVols=4]="ScrollBackVols",e[e.ScrollBackVol=5]="ScrollBackVol",e[e.ScrollBackSingles=6]="ScrollBackSingles",e[e.ScrollBackArticles=7]="ScrollBackArticles",e[e.ScrollBackArticle=8]="ScrollBackArticle",e[e.SelectVol=9]="SelectVol",e[e.SelectSingle=10]="SelectSingle",e[e.SelectArticle=11]="SelectArticle"}(g||(g={}));var f=function e(t){var n=this;Object(s.a)(this,e),this.timestampOffset=0,this.lyricsAll=[],this.metaInfo={},this.ID_TAGS=[{name:"artist",id:"ar",re:/\[ar:(.*)]$/g},{name:"album",id:"al",re:/\[al:(.*)]$/g},{name:"title",id:"ti",re:/\[ti:(.*)]$/g},{name:"author",id:"au",re:/\[au:(.*)]$/g},{name:"length",id:"length",re:/\[length:(.*)]$/g},{name:"by",id:"by",re:/\[by:(.*)]$/g},{name:"offset",id:"offset",re:/\[offset:(.*)]$/g},{name:"createdBy",id:"re",re:/\[re:(.*)]$/g},{name:"createdByVersion",id:"ve",re:/\[ve:(.*)]$/g}],this.load=function(e){for(var t=e.split("\n"),i=0;i<t.length;i++){var a=t[i].replace(/(^\s*)|(\s*$)/g,"");if(a){for(var r=!1,l=0;l<n.ID_TAGS.length;l++){var c=n.ID_TAGS[l].re.exec(a);if(c&&!(c.length<2)){r=!0;var o=c[1].replace(/(^\s*)|(\s*$)/g,""),s=n.ID_TAGS[l].handler;s?n.metaInfo[n.ID_TAGS[l].name]=s.call(n,o):n.metaInfo[String(n.ID_TAGS[l].name)]=String(o)}}if(!r){for(var u=Array();;){var p=/^(\[\d+:\d+(.\d+)?\])(.*)/g.exec(a);if(!p)break;u.push(p[1]),a=p[p.length-1].replace(/(^\s*)|(\s*$)/g,"")}for(var g=0;g<u.length;g++){var d=/^\[(\d{1,2}):(\d|[0-5]\d)(\.(\d+))?\]$/g.exec(u[g]);d&&a.trim()&&n.lyricsAll.push({timestamp:60*Number(d[1])+Number(d[2])+(d[4]?Number("0."+d[4]):0),text:a})}}}}return n.lyricsAll.sort(function(e,t){return e.timestamp>t.timestamp?1:-1}),n.lyricsAll.length||(n.lyricsAll=[]),m(n.metaInfo)&&(n.metaInfo={}),0!==n.lyricsAll.length||!m(n.metaInfo)},this.setTimestampOffset=function(e){return n.timestampOffset=isNaN(e)?0:Number(e)/1e3,Number(e)},this.getLyrics=function(){return n.lyricsAll},this.getLyric=function(e){return n.lyricsAll[e]},this.getIDTags=function(){return n.metaInfo},this.select=function(e){if(isNaN(e))return-1;var t=Number(e)+n.timestampOffset;if(t<n.lyricsAll[0].timestamp)return-1;for(var i=0;i<n.lyricsAll.length-1&&!(n.lyricsAll[i].timestamp<=t&&n.lyricsAll[i+1].timestamp>t);i++);return i},t&&this.load(t);var i=this.ID_TAGS.find(function(e){return"offset"===e.name});i&&(i.handler=this.setTimestampOffset)};function y(e,t){for(var n=[],i=e;i<t;i++)n.push(i);return n}function b(e){return"".concat(e,"px")}function h(e){var t=Math.floor(e/60),n=Math.floor(e-60*t);return t<10&&(t="0"+t),n<10&&(n="0"+n),"".concat(t,":").concat(n)}function v(e){var t=e.getBoundingClientRect(),n=window.innerHeight||document.documentElement.clientHeight,i=window.innerWidth||document.documentElement.clientWidth,a=t.top<=n&&t.top+t.height>=0,r=t.left<=i&&t.left+t.width>=0;return a&&r}function O(e){return new Promise(function(t){e.then(function(e){return t([e,null])}).catch(function(e){return t([null,e])})})}var E,I,k,S,P=n(13),A=n(8);!function(e){e[e.PLAYING=0]="PLAYING",e[e.VOLS=1]="VOLS",e[e.VOLS_TYPE=2]="VOLS_TYPE",e[e.VOL_INFO=3]="VOL_INFO",e[e.SINGLES=4]="SINGLES",e[e.SINGLE_INFO=5]="SINGLE_INFO",e[e.ARTICLES=6]="ARTICLES",e[e.ARTICLE_INFO=7]="ARTICLE_INFO"}(E||(E={})),function(e){e[e.VOL=0]="VOL",e[e.SINGLE=1]="SINGLE",e[e.ARTICLE=2]="ARTICLE"}(I||(I={})),function(e){e[e.STOP=0]="STOP",e[e.PLAYING=1]="PLAYING",e[e.PAUSE=2]="PAUSE",e[e.FETCHING=3]="FETCHING"}(k||(k={})),function(e){e[e.ORDER=0]="ORDER",e[e.SHUFFLE=1]="SHUFFLE",e[e.LOOP=2]="LOOP"}(S||(S={}));var x,T=n(19),L=n.n(T),w=n(20),j=n.n(w),V=n(21),N=n.n(V),C=n(22),R=n.n(C),G=n(23),D=n.n(G),z=n(24),B=n.n(z),_=n(25),Y=n.n(_),F=n(26),U=n.n(F),M=n(27),H=n.n(M),W=n(28),K=n.n(W),$=n(29),X=n.n($),q=n(30),J=n.n(q),Q=n(31),Z=n.n(Q),ee=n(32),te=n.n(ee),ne=n(33),ie=n.n(ne),ae=n(34),re=n.n(ae),le=n(35),ce=n.n(le),oe=n(36),se=n.n(oe),ue=n(37),pe=n.n(ue),ge=n(38),de=n.n(ge),me=n(39),fe=n.n(me),ye=n(40),be=n.n(ye),he=n(41),ve=n.n(he),Oe=n(42),Ee=n.n(Oe),Ie=n(43),ke=n.n(Ie);!function(e){e[e.ALL=0]="ALL",e[e.RockAndRoll=1]="RockAndRoll",e[e.Alternative=2]="Alternative",e[e.Ballad=3]="Ballad",e[e.Pop=4]="Pop",e[e.Electronic=5]="Electronic",e[e.Classical=6]="Classical",e[e.Jazz=7]="Jazz",e[e.Metal=8]="Metal",e[e.Punk=9]="Punk",e[e.Rap=10]="Rap",e[e.World=11]="World",e[e.Atmosphere=12]="Atmosphere",e[e.Soundtrack=13]="Soundtrack",e[e.Reggae=14]="Reggae",e[e.Country=15]="Country",e[e.Blues=16]="Blues",e[e.Experimental=17]="Experimental",e[e.England=18]="England",e[e.PostRock=19]="PostRock",e[e.PsychedelicRock=20]="PsychedelicRock",e[e.DarkWave=21]="DarkWave",e[e.Mandopop=22]="Mandopop",e[e.Hardcore=23]="Hardcore",e[e.PostPunk=24]="PostPunk"}(x||(x={}));var Se,Pe,Ae,xe,Te,Le,we,je,Ve,Ne,Ce,Re,Ge,De,ze,Be,_e,Ye,Fe,Ue,Me,He,We,Ke,$e,Xe,qe,Je,Qe,Ze,et,tt,nt,it,at,rt,lt,ct,ot,st,ut,pt,gt,dt,mt,ft,yt,bt,ht,vt,Ot,Et,It,kt,St,Pt,At,xt,Tt,Lt,wt,jt,Vt,Nt,Ct,Rt,Gt,Dt,zt,Bt,_t,Yt,Ft,Ut,Mt,Ht,Wt,Kt,$t,Xt,qt,Jt,Qt,Zt,en,tn,nn,an,rn=[{name:"\u5168\u90e8",type:"All",img:L.a,value:x.ALL},{name:"\u6447\u6eda",type:"Rock And Roll",img:j.a,value:x.RockAndRoll},{name:"\u53e6\u7c7b",type:"Alternative",img:N.a,value:x.Alternative},{name:"\u6c11\u8c23",type:"Ballad",img:R.a,value:x.Ballad},{name:"\u6d41\u884c",type:"Pop",img:D.a,value:x.Pop},{name:"\u7535\u5b50",type:"Electronic",img:B.a,value:x.Electronic},{name:"\u53e4\u5178",type:"Classical",img:Y.a,value:x.Classical},{name:"\u7235\u58eb",type:"Jazz",img:U.a,value:x.Jazz},{name:"\u91d1\u5c5e",type:"Metal",img:H.a,value:x.Metal},{name:"\u670b\u514b",type:"Punk",img:K.a,value:x.Punk},{name:"\u8bf4\u5531",type:"Rap",img:X.a,value:x.Rap},{name:"\u4e16\u754c\u97f3\u4e50",type:"World",img:J.a,value:x.World},{name:"\u6c1b\u56f4",type:"Atmosphere",img:Z.a,value:x.Atmosphere},{name:"\u539f\u58f0",type:"Soundtrack",img:te.a,value:x.Soundtrack},{name:"\u96f7\u9b3c",type:"Reggae",img:ie.a,value:x.Reggae},{name:"\u4e61\u6751",type:"Country",img:re.a,value:x.Country},{name:"\u84dd\u8c03",type:"Blues",img:ce.a,value:x.Blues},{name:"\u5b9e\u9a8c",type:"Experimental",img:se.a,value:x.Experimental},{name:"\u82f1\u4f26",type:"England",img:pe.a,value:x.England},{name:"\u540e\u6447",type:"Post Rock",img:de.a,value:x.PostRock},{name:"\u8ff7\u5e7b\u6447\u6eda",type:"Psychedelic Rock",img:fe.a,value:x.PsychedelicRock},{name:"\u6697\u6f6e",type:"Dark Wave",img:be.a,value:x.DarkWave},{name:"\u534e\u8bed\u6d41\u884c",type:"Mandopop",img:ve.a,value:x.Mandopop},{name:"\u786c\u6838",type:"Hardcore",img:Ee.a,value:x.Hardcore},{name:"\u540e\u670b\u514b",type:"Post Punk",img:ke.a,value:x.PostPunk}],ln=new(Se=function(){function e(){Object(s.a)(this,e),Object(o.a)(this,"init",Pe,this),Object(o.a)(this,"updateFromCGI",Ae,this),Object(o.a)(this,"updateAllVols",xe,this),Object(o.a)(this,"allVols",Te,this),Object(o.a)(this,"volType",Le,this),Object(o.a)(this,"changeVolType",we,this),this.volPageScale=12,Object(o.a)(this,"volCurrentPage",je,this),Object(o.a)(this,"toggleVolIndex",Ve,this),this.paginationScale=9,Object(o.a)(this,"volPaginationCurrentIndex",Ne,this),Object(o.a)(this,"nextVolPagination",Ce,this),Object(o.a)(this,"preVolPagination",Re,this),Object(o.a)(this,"selectedVolIndex",Ge,this),Object(o.a)(this,"selectVol",De,this),Object(o.a)(this,"selectVolById",ze,this)}return Object(A.a)(e,[{key:"vols",get:function(){var e=this;return this.volType===x.ALL?this.allVols:this.allVols.filter(function(t){return t.tags.includes(e.volTypeItem.name)})}},{key:"volTypeItem",get:function(){var e=this,t=rn.find(function(t){return t.value===e.volType});if(!t)throw new Error("Invalid Vol Type");return t}},{key:"volTotalPage",get:function(){return Math.ceil(this.vols.length/this.volPageScale)}},{key:"displayVols",get:function(){var e=this.volCurrentPage*this.volPageScale,t=Math.min((this.volCurrentPage+1)*this.volPageScale,this.vols.length);return this.vols.slice(e,t)}},{key:"volPaginationTotalIndex",get:function(){return Math.ceil(this.volTotalPage/this.paginationScale)}},{key:"displayVolPaginations",get:function(){return y(this.volPaginationCurrentIndex*this.paginationScale,Math.min((this.volPaginationCurrentIndex+1)*this.paginationScale,this.volTotalPage))}},{key:"selectedVol",get:function(){return this.displayVols[this.selectedVolIndex]}}]),e}(),Pe=Object(u.a)(Se.prototype,"init",[p.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=Object(c.a)(l.a.mark(function t(n){return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Be=n,t.t0=e,t.next=4,Be.getVols();case 4:t.t1=t.sent,t.t0.updateAllVols.call(t.t0,t.t1),setTimeout(function(){e.updateFromCGI().catch(console.error)},10);case 7:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}}),Ae=Object(u.a)(Se.prototype,"updateFromCGI",[p.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return Object(c.a)(l.a.mark(function t(){var n,i,a,r,c;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Be.getLatestVol();case 2:return n=t.sent,t.next=5,O(Be.requestVols(n?n.vol+1:0));case 5:if(i=t.sent,a=Object(P.a)(i,2),r=a[0],!(c=a[1])){t.next=11;break}throw c;case 11:if(!(r&&r.length>0)){t.next=14;break}return t.next=14,Be.saveVols(r);case 14:return t.t0=e,t.next=17,Be.getVols();case 17:t.t1=t.sent,t.t0.updateAllVols.call(t.t0,t.t1);case 19:case"end":return t.stop()}},t,this)}))}}),xe=Object(u.a)(Se.prototype,"updateAllVols",[p.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var n=t.map(function(e){return Object.freeze(e)});e.allVols=Object.freeze(n)}}}),Te=Object(u.a)(Se.prototype,"allVols",[p.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Object(u.a)(Se.prototype,"vols",[p.e],Object.getOwnPropertyDescriptor(Se.prototype,"vols"),Se.prototype),Le=Object(u.a)(Se.prototype,"volType",[p.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return x.ALL}}),Object(u.a)(Se.prototype,"volTypeItem",[p.e],Object.getOwnPropertyDescriptor(Se.prototype,"volTypeItem"),Se.prototype),we=Object(u.a)(Se.prototype,"changeVolType",[p.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.volPaginationCurrentIndex=0,e.volCurrentPage=0,e.volType=t,d.emit(g.ScrollBackVols),un.changeView(E.VOLS)}}}),je=Object(u.a)(Se.prototype,"volCurrentPage",[p.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Object(u.a)(Se.prototype,"volTotalPage",[p.e],Object.getOwnPropertyDescriptor(Se.prototype,"volTotalPage"),Se.prototype),Object(u.a)(Se.prototype,"displayVols",[p.e],Object.getOwnPropertyDescriptor(Se.prototype,"displayVols"),Se.prototype),Ve=Object(u.a)(Se.prototype,"toggleVolIndex",[p.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){d.emit(g.ScrollBackVols,!0),e.volCurrentPage=t}}}),Ne=Object(u.a)(Se.prototype,"volPaginationCurrentIndex",[p.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Object(u.a)(Se.prototype,"volPaginationTotalIndex",[p.e],Object.getOwnPropertyDescriptor(Se.prototype,"volPaginationTotalIndex"),Se.prototype),Object(u.a)(Se.prototype,"displayVolPaginations",[p.e],Object.getOwnPropertyDescriptor(Se.prototype,"displayVolPaginations"),Se.prototype),Ce=Object(u.a)(Se.prototype,"nextVolPagination",[p.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.volPaginationCurrentIndex+=1}}}),Re=Object(u.a)(Se.prototype,"preVolPagination",[p.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.volPaginationCurrentIndex-=1}}}),Ge=Object(u.a)(Se.prototype,"selectedVolIndex",[p.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Object(u.a)(Se.prototype,"selectedVol",[p.e],Object.getOwnPropertyDescriptor(Se.prototype,"selectedVol"),Se.prototype),De=Object(u.a)(Se.prototype,"selectVol",[p.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.selectedVolIndex=t,un.changeView(E.VOL_INFO),un.changeBackground(E.VOLS)}}}),ze=Object(u.a)(Se.prototype,"selectVolById",[p.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=Object(c.a)(l.a.mark(function t(n){var i,a,r,c;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n!==e.selectedVol.id||un.view!==E.VOL_INFO){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,Be.getVolById(n);case 4:if(i=t.sent){t.next=7;break}throw new Error("vol id-".concat(n," not exists"));case 7:e.volType!==x.ALL&&i.tags.includes(e.volTypeItem.name)?a=e.vols:(e.changeVolType(x.ALL),a=e.allVols),r=a.findIndex(function(e){return e.id===n}),c=r%e.volPageScale,e.volCurrentPage=(r-c)/e.volPageScale,un.changeView(E.VOLS,!1,function(){setTimeout(function(){return d.emit(g.SelectVol,c)},200)});case 12:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}}),Se),cn=new(_e=function(){function e(){Object(s.a)(this,e),Object(o.a)(this,"init",Ye,this),Object(o.a)(this,"updateFromCGI",Fe,this),Object(o.a)(this,"updateSingles",Ue,this),Object(o.a)(this,"singles",Me,this),this.singlePageScale=12,Object(o.a)(this,"singleCurrentPage",He,this),Object(o.a)(this,"toggleSingleIndex",We,this),this.paginationScale=9,Object(o.a)(this,"singlePaginationCurrentIndex",Ke,this),Object(o.a)(this,"nextSinglePagination",$e,this),Object(o.a)(this,"preSinglePagination",Xe,this),Object(o.a)(this,"selectedSingleIndex",qe,this),Object(o.a)(this,"selectSingle",Je,this),Object(o.a)(this,"selectSingleById",Qe,this)}return Object(A.a)(e,[{key:"singleTotalPage",get:function(){return Math.ceil(this.singles.length/this.singlePageScale)}},{key:"displaySingles",get:function(){var e=this.singleCurrentPage*this.singlePageScale,t=Math.min((this.singleCurrentPage+1)*this.singlePageScale,this.singles.length);return this.singles.slice(e,t)}},{key:"singlePaginationTotalIndex",get:function(){return Math.ceil(this.singleTotalPage/this.paginationScale)}},{key:"displaySinglePaginations",get:function(){return y(this.singlePaginationCurrentIndex*this.paginationScale,Math.min((this.singlePaginationCurrentIndex+1)*this.paginationScale,this.singleTotalPage))}},{key:"selectedSingle",get:function(){return this.displaySingles[this.selectedSingleIndex]}}]),e}(),Ye=Object(u.a)(_e.prototype,"init",[p.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=Object(c.a)(l.a.mark(function t(n){return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Ze=n,t.t0=e,t.next=4,Ze.getSingles();case 4:t.t1=t.sent,t.t0.updateSingles.call(t.t0,t.t1),setTimeout(function(){e.updateFromCGI().catch(console.error)},10);case 7:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}}),Fe=Object(u.a)(_e.prototype,"updateFromCGI",[p.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return Object(c.a)(l.a.mark(function t(){var n,i,a,r,c;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ze.getLatestSingle();case 2:return n=t.sent,t.next=5,O(Ze.requestSingles(n?n.date+1:0));case 5:if(i=t.sent,a=Object(P.a)(i,2),r=a[0],!(c=a[1])){t.next=11;break}throw c;case 11:if(!(r&&r.length>0)){t.next=14;break}return t.next=14,Ze.saveSingles(r);case 14:return t.t0=e,t.next=17,Ze.getSingles();case 17:t.t1=t.sent,t.t0.updateSingles.call(t.t0,t.t1);case 19:case"end":return t.stop()}},t,this)}))}}),Ue=Object(u.a)(_e.prototype,"updateSingles",[p.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var n=t.map(function(e){return Object.freeze(e)});e.singles=Object.freeze(n)}}}),Me=Object(u.a)(_e.prototype,"singles",[p.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),He=Object(u.a)(_e.prototype,"singleCurrentPage",[p.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Object(u.a)(_e.prototype,"singleTotalPage",[p.e],Object.getOwnPropertyDescriptor(_e.prototype,"singleTotalPage"),_e.prototype),Object(u.a)(_e.prototype,"displaySingles",[p.e],Object.getOwnPropertyDescriptor(_e.prototype,"displaySingles"),_e.prototype),We=Object(u.a)(_e.prototype,"toggleSingleIndex",[p.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){d.emit(g.ScrollBackSingles,!0),e.singleCurrentPage=t}}}),Ke=Object(u.a)(_e.prototype,"singlePaginationCurrentIndex",[p.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Object(u.a)(_e.prototype,"singlePaginationTotalIndex",[p.e],Object.getOwnPropertyDescriptor(_e.prototype,"singlePaginationTotalIndex"),_e.prototype),Object(u.a)(_e.prototype,"displaySinglePaginations",[p.e],Object.getOwnPropertyDescriptor(_e.prototype,"displaySinglePaginations"),_e.prototype),$e=Object(u.a)(_e.prototype,"nextSinglePagination",[p.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.singlePaginationCurrentIndex+=1}}}),Xe=Object(u.a)(_e.prototype,"preSinglePagination",[p.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.singlePaginationCurrentIndex-=1}}}),qe=Object(u.a)(_e.prototype,"selectedSingleIndex",[p.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Object(u.a)(_e.prototype,"selectedSingle",[p.e],Object.getOwnPropertyDescriptor(_e.prototype,"selectedSingle"),_e.prototype),Je=Object(u.a)(_e.prototype,"selectSingle",[p.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.selectedSingleIndex=t,un.changeView(E.SINGLE_INFO),un.changeBackground(E.SINGLES)}}}),Qe=Object(u.a)(_e.prototype,"selectSingleById",[p.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){if(t!==e.selectedSingle.id||un.view!==E.SINGLE_INFO){var n=e.singles.findIndex(function(e){return e.id===t}),i=n%e.singlePageScale;e.singleCurrentPage=(n-i)/e.singlePageScale,un.changeView(E.SINGLES,!1,function(){setTimeout(function(){return d.emit(g.SelectSingle,i)},200)})}}}}),_e),on=new(et=function(){function e(){Object(s.a)(this,e),Object(o.a)(this,"init",tt,this),Object(o.a)(this,"updateFromCGI",nt,this),Object(o.a)(this,"updateArticles",it,this),Object(o.a)(this,"articles",at,this),this.articlePageScale=12,Object(o.a)(this,"articleCurrentPage",rt,this),Object(o.a)(this,"toggleArticleIndex",lt,this),this.paginationScale=9,Object(o.a)(this,"articlePaginationCurrentIndex",ct,this),Object(o.a)(this,"nextArticlePagination",ot,this),Object(o.a)(this,"preArticlePagination",st,this),Object(o.a)(this,"selectedArticleIndex",ut,this),Object(o.a)(this,"selectArticle",pt,this),Object(o.a)(this,"selectArticleById",gt,this)}return Object(A.a)(e,[{key:"articleTotalPage",get:function(){return Math.ceil(this.articles.length/this.articlePageScale)}},{key:"displayArticles",get:function(){var e=this.articleCurrentPage*this.articlePageScale,t=Math.min((this.articleCurrentPage+1)*this.articlePageScale,this.articles.length);return this.articles.slice(e,t)}},{key:"articlePaginationTotalIndex",get:function(){return Math.ceil(this.articleTotalPage/this.paginationScale)}},{key:"displayArticlePaginations",get:function(){return y(this.articlePaginationCurrentIndex*this.paginationScale,Math.min((this.articlePaginationCurrentIndex+1)*this.paginationScale,this.articleTotalPage))}},{key:"selectedArticle",get:function(){return this.displayArticles[this.selectedArticleIndex]}}]),e}(),tt=Object(u.a)(et.prototype,"init",[p.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=Object(c.a)(l.a.mark(function t(n){return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return dt=n,t.t0=e,t.next=4,dt.getArticles();case 4:t.t1=t.sent,t.t0.updateArticles.call(t.t0,t.t1),setTimeout(function(){e.updateFromCGI().catch(console.error)},10);case 7:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}}),nt=Object(u.a)(et.prototype,"updateFromCGI",[p.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return Object(c.a)(l.a.mark(function t(){var n,i,a,r,c;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,dt.getLatestArticle();case 2:return n=t.sent,t.next=5,O(dt.requestArticles(n?n.id+1:0));case 5:if(i=t.sent,a=Object(P.a)(i,2),r=a[0],!(c=a[1])){t.next=11;break}throw c;case 11:if(!(r&&r.length>0)){t.next=14;break}return t.next=14,dt.saveArticles(r);case 14:return t.t0=e,t.next=17,dt.getArticles();case 17:t.t1=t.sent,t.t0.updateArticles.call(t.t0,t.t1);case 19:case"end":return t.stop()}},t,this)}))}}),it=Object(u.a)(et.prototype,"updateArticles",[p.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var n=t.map(function(e){return Object.freeze(e)});e.articles=Object.freeze(n)}}}),at=Object(u.a)(et.prototype,"articles",[p.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),rt=Object(u.a)(et.prototype,"articleCurrentPage",[p.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Object(u.a)(et.prototype,"articleTotalPage",[p.e],Object.getOwnPropertyDescriptor(et.prototype,"articleTotalPage"),et.prototype),Object(u.a)(et.prototype,"displayArticles",[p.e],Object.getOwnPropertyDescriptor(et.prototype,"displayArticles"),et.prototype),lt=Object(u.a)(et.prototype,"toggleArticleIndex",[p.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){d.emit(g.ScrollBackSingles,!0),e.articleCurrentPage=t}}}),ct=Object(u.a)(et.prototype,"articlePaginationCurrentIndex",[p.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Object(u.a)(et.prototype,"articlePaginationTotalIndex",[p.e],Object.getOwnPropertyDescriptor(et.prototype,"articlePaginationTotalIndex"),et.prototype),Object(u.a)(et.prototype,"displayArticlePaginations",[p.e],Object.getOwnPropertyDescriptor(et.prototype,"displayArticlePaginations"),et.prototype),ot=Object(u.a)(et.prototype,"nextArticlePagination",[p.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.articlePaginationCurrentIndex+=1}}}),st=Object(u.a)(et.prototype,"preArticlePagination",[p.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.articlePaginationCurrentIndex-=1}}}),ut=Object(u.a)(et.prototype,"selectedArticleIndex",[p.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Object(u.a)(et.prototype,"selectedArticle",[p.e],Object.getOwnPropertyDescriptor(et.prototype,"selectedArticle"),et.prototype),pt=Object(u.a)(et.prototype,"selectArticle",[p.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.selectedArticleIndex=t,un.changeView(E.ARTICLE_INFO),un.changeBackground(E.ARTICLES)}}}),gt=Object(u.a)(et.prototype,"selectArticleById",[p.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){if(t!==e.selectedArticle.id||un.view!==E.ARTICLE_INFO){var n=e.articles.findIndex(function(e){return e.id===t}),i=n%e.articlePageScale;e.articleCurrentPage=(n-i)/e.articlePageScale,un.changeView(E.ARTICLES,!1,function(){setTimeout(function(){return d.emit(g.SelectArticle,i)},200)})}}}}),et),sn=new(mt=function(){function e(){var t=this;Object(s.a)(this,e),Object(o.a)(this,"init",ft,this),Object(o.a)(this,"initAudio",yt,this),Object(o.a)(this,"playingVolId",bt,this),Object(o.a)(this,"playingVolTrackIndex",ht,this),this.isVolPlaying=function(e){return t.playingStatus===k.PLAYING&&t.playingType===I.VOL&&t.playingVolId===e},this.isVolTrackPlaying=function(e,n){return t.isVolPlaying(e)&&t.playingVolTrackIndex===n},Object(o.a)(this,"playingSingleId",vt,this),this.isSinglePlaying=function(e){return t.playingStatus===k.PLAYING&&t.playingType===I.SINGLE&&t.playingSingleId===e},Object(o.a)(this,"playingArticleId",Ot,this),Object(o.a)(this,"playingArticleTrackIndex",Et,this),this.isArticlePlaying=function(e){return t.playingStatus===k.PLAYING&&t.playingType===I.ARTICLE&&t.playingArticleId===e},this.isArticleTrackPlaying=function(e,n){return t.isArticlePlaying(e)&&t.playingArticleTrackIndex===n},Object(o.a)(this,"playingStatus",It,this),Object(o.a)(this,"playingMode",kt,this),Object(o.a)(this,"playingType",St,this),Object(o.a)(this,"playedTime",Pt,this),Object(o.a)(this,"totalTime",At,this),Object(o.a)(this,"setPlayedTime",xt,this),Object(o.a)(this,"setTotalTime",Tt,this),this.changeAudio=function(e){if(e!==$t.src)return $t.pause(),$t.src=e,$t.load(),$t.play()},Object(o.a)(this,"updatePlayingAudio",Lt,this),Object(o.a)(this,"changePlayingRatio",wt,this),Object(o.a)(this,"playVolTrack",jt,this),Object(o.a)(this,"playSingle",Vt,this),Object(o.a)(this,"playArticleTrack",Nt,this),Object(o.a)(this,"play",Ct,this),Object(o.a)(this,"pause",Rt,this),Object(o.a)(this,"next",Gt,this),Object(o.a)(this,"nextVolTrack",Dt,this),Object(o.a)(this,"nextSingle",zt,this),Object(o.a)(this,"nextArticleTrack",Bt,this),Object(o.a)(this,"pre",_t,this),Object(o.a)(this,"preVolTrack",Yt,this),Object(o.a)(this,"preSingle",Ft,this),Object(o.a)(this,"preArticleTrack",Ut,this),Object(o.a)(this,"goToPlayingSource",Mt,this),Object(o.a)(this,"lyrics",Ht,this),Object(o.a)(this,"currentLyricIndex",Wt,this),Object(o.a)(this,"changeCurrentLyricIndex",Kt,this)}return Object(A.a)(e,[{key:"playingVol",get:function(){var e=this;return ln.allVols.find(function(t){return t.id===e.playingVolId})}},{key:"playingVolTrack",get:function(){return this.playingVol.tracks[this.playingVolTrackIndex]}},{key:"playingSingle",get:function(){var e=this;return cn.singles.find(function(t){return t.id===e.playingSingleId})}},{key:"playingArticle",get:function(){var e=this;return on.articles.find(function(t){return t.id===e.playingArticleId})}},{key:"playingArticleTrack",get:function(){return this.playingArticle.tracks[this.playingArticleTrackIndex]}},{key:"playingInfo",get:function(){switch(this.playingType){case I.VOL:return this.playingVolTrack;case I.SINGLE:return this.playingSingle;case I.ARTICLE:return this.playingArticleTrack;default:throw new Error("Invalid playing type")}}},{key:"formatedPlayedTime",get:function(){return h(this.playedTime)}},{key:"formatedTotalTime",get:function(){return h(this.totalTime)}},{key:"playingProgress",get:function(){return Math.ceil(this.playedTime/this.totalTime*100)}},{key:"playingLyrics",get:function(){var e=this.lyrics,t=this.currentLyricIndex;if(!e)return null;var n={text:" "};return[e[t-4]||n,e[t-3]||n,e[t-2]||n,e[t-1]||n,e[t],e[t+1]||n,e[t+2]||n,e[t+3]||n,e[t+4]||n].map(function(e){return e.text})}}]),e}(),ft=Object(u.a)(mt.prototype,"init",[p.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return Object(c.a)(l.a.mark(function t(){return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.initAudio();case 1:case"end":return t.stop()}},t,this)}))}}),yt=Object(u.a)(mt.prototype,"initAudio",[p.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){($t=new Audio(e.playingInfo.url)).addEventListener("canplay",function(){if(e.playingStatus===k.PLAYING||e.playingStatus===k.FETCHING)return $t.play()}),$t.addEventListener("durationchange",function(){return e.setTotalTime($t.duration)}),$t.addEventListener("timeupdate",function(){return e.setPlayedTime($t.currentTime)}),$t.addEventListener("ended",function(){return e.next()}),$t.load()}}}),bt=Object(u.a)(mt.prototype,"playingVolId",[p.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ln.allVols[0].id}}),ht=Object(u.a)(mt.prototype,"playingVolTrackIndex",[p.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Object(u.a)(mt.prototype,"playingVol",[p.e],Object.getOwnPropertyDescriptor(mt.prototype,"playingVol"),mt.prototype),Object(u.a)(mt.prototype,"playingVolTrack",[p.e],Object.getOwnPropertyDescriptor(mt.prototype,"playingVolTrack"),mt.prototype),vt=Object(u.a)(mt.prototype,"playingSingleId",[p.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return cn.singles[0].id}}),Object(u.a)(mt.prototype,"playingSingle",[p.e],Object.getOwnPropertyDescriptor(mt.prototype,"playingSingle"),mt.prototype),Ot=Object(u.a)(mt.prototype,"playingArticleId",[p.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return on.articles[0].id}}),Et=Object(u.a)(mt.prototype,"playingArticleTrackIndex",[p.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Object(u.a)(mt.prototype,"playingArticle",[p.e],Object.getOwnPropertyDescriptor(mt.prototype,"playingArticle"),mt.prototype),Object(u.a)(mt.prototype,"playingArticleTrack",[p.e],Object.getOwnPropertyDescriptor(mt.prototype,"playingArticleTrack"),mt.prototype),Object(u.a)(mt.prototype,"playingInfo",[p.e],Object.getOwnPropertyDescriptor(mt.prototype,"playingInfo"),mt.prototype),It=Object(u.a)(mt.prototype,"playingStatus",[p.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return k.STOP}}),kt=Object(u.a)(mt.prototype,"playingMode",[p.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return S.ORDER}}),St=Object(u.a)(mt.prototype,"playingType",[p.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return I.VOL}}),Pt=Object(u.a)(mt.prototype,"playedTime",[p.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),At=Object(u.a)(mt.prototype,"totalTime",[p.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),xt=Object(u.a)(mt.prototype,"setPlayedTime",[p.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.playedTime=t,e.changeCurrentLyricIndex()}}}),Tt=Object(u.a)(mt.prototype,"setTotalTime",[p.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.totalTime=t}}}),Object(u.a)(mt.prototype,"formatedPlayedTime",[p.e],Object.getOwnPropertyDescriptor(mt.prototype,"formatedPlayedTime"),mt.prototype),Object(u.a)(mt.prototype,"formatedTotalTime",[p.e],Object.getOwnPropertyDescriptor(mt.prototype,"formatedTotalTime"),mt.prototype),Object(u.a)(mt.prototype,"playingProgress",[p.e],Object.getOwnPropertyDescriptor(mt.prototype,"playingProgress"),mt.prototype),Lt=Object(u.a)(mt.prototype,"updatePlayingAudio",[p.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=e.playingInfo,n=t.url,i=t.lyric;if(e.currentLyricIndex=0,i){var a=new f(i);e.lyrics=a.getLyrics()}else e.lyrics=null;return e.changeAudio(n)}}}),wt=Object(u.a)(mt.prototype,"changePlayingRatio",[p.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var n=$t.duration*t/100;$t.currentTime=n,e.setPlayedTime(n),e.currentLyricIndex=0}}}),jt=Object(u.a)(mt.prototype,"playVolTrack",[p.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.playingType===I.VOL&&t===e.playingVolId&&n===e.playingVolTrackIndex?e.play():(e.playingVolId=t,e.playingVolTrackIndex=n,e.playingType=I.VOL,e.playingStatus=k.PLAYING,e.updatePlayingAudio())}}}),Vt=Object(u.a)(mt.prototype,"playSingle",[p.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){return e.playingType===I.SINGLE&&t===e.playingSingleId?e.play():(e.playingSingleId=t,e.playingType=I.SINGLE,e.playingStatus=k.PLAYING,e.updatePlayingAudio())}}}),Nt=Object(u.a)(mt.prototype,"playArticleTrack",[p.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.playingType===I.ARTICLE&&t===e.playingArticleId&&n===e.playingArticleTrackIndex?e.play():(e.playingArticleId=t,e.playingArticleTrackIndex=n,e.playingType=I.ARTICLE,e.playingStatus=k.PLAYING,e.updatePlayingAudio())}}}),Ct=Object(u.a)(mt.prototype,"play",[p.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){return e.playingStatus=k.PLAYING,$t.play()}}}),Rt=Object(u.a)(mt.prototype,"pause",[p.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){return e.playingStatus=k.PAUSE,$t.pause()}}}),Gt=Object(u.a)(mt.prototype,"next",[p.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){switch(e.playingType){case I.VOL:e.nextVolTrack();break;case I.SINGLE:e.nextSingle();break;case I.ARTICLE:e.nextArticleTrack()}return e.playingStatus=k.PLAYING,e.updatePlayingAudio()}}}),Dt=Object(u.a)(mt.prototype,"nextVolTrack",[p.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=e.playingVol.tracks;1!==t.length&&(e.playingVolTrackIndex+1===t.length?e.playingVolTrackIndex=0:e.playingVolTrackIndex+=1)}}}),zt=Object(u.a)(mt.prototype,"nextSingle",[p.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=cn.singles;if(1!==t.length){var n=t.findIndex(function(t){return t.id===e.playingSingleId});n+1===t.length?e.playingSingleId=t[0].id:e.playingSingleId=t[n+1].id}}}}),Bt=Object(u.a)(mt.prototype,"nextArticleTrack",[p.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=e.playingArticle.tracks;1!==t.length&&(e.playingArticleTrackIndex+1===t.length?e.playingArticleTrackIndex=0:e.playingArticleTrackIndex+=1)}}}),_t=Object(u.a)(mt.prototype,"pre",[p.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){switch(e.playingType){case I.VOL:e.preVolTrack();break;case I.SINGLE:e.preSingle();break;case I.ARTICLE:e.preArticleTrack()}return e.playingStatus=k.PLAYING,e.updatePlayingAudio()}}}),Yt=Object(u.a)(mt.prototype,"preVolTrack",[p.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=e.playingVol.tracks;1!==t.length&&(0===e.playingVolTrackIndex?e.playingVolTrackIndex=t.length-1:e.playingVolTrackIndex-=1)}}}),Ft=Object(u.a)(mt.prototype,"preSingle",[p.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=cn.singles;if(1!==t.length){var n=t.findIndex(function(t){return t.id===e.playingSingleId});e.playingSingleId=0===n?t[t.length-1].id:t[n-1].id}}}}),Ut=Object(u.a)(mt.prototype,"preArticleTrack",[p.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=e.playingArticle.tracks;1!==t.length&&(0===e.playingArticleTrackIndex?e.playingArticleTrackIndex=t.length-1:e.playingArticleTrackIndex-=1)}}}),Mt=Object(u.a)(mt.prototype,"goToPlayingSource",[p.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t;switch(e.playingType){case I.VOL:t=function(){var t=Object(c.a)(l.a.mark(function t(){return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ln.selectVolById(e.playingVolId);case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}();break;case I.SINGLE:t=function(){cn.selectSingleById(e.playingSingleId)};break;case I.ARTICLE:t=function(){on.selectArticleById(e.playingArticleId)};break;default:throw new Error("Invalid type")}un.backView(t)}}}),Ht=Object(u.a)(mt.prototype,"lyrics",[p.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Wt=Object(u.a)(mt.prototype,"currentLyricIndex",[p.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Object(u.a)(mt.prototype,"playingLyrics",[p.e],Object.getOwnPropertyDescriptor(mt.prototype,"playingLyrics"),mt.prototype),Kt=Object(u.a)(mt.prototype,"changeCurrentLyricIndex",[p.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){if(!e.lyrics)return null;var t=e.playedTime,n=e.lyrics,i=e.currentLyricIndex;i+1!==e.lyrics.length&&t>n[i+1].timestamp&&e.currentLyricIndex++}}}),mt),un=new(Xt=function e(){Object(s.a)(this,e),Object(o.a)(this,"init",qt,this),this.viewHistory=[],Object(o.a)(this,"view",Jt,this),Object(o.a)(this,"changeView",Qt,this),Object(o.a)(this,"backView",Zt,this),Object(o.a)(this,"backgroundImage",en,this),this.setBackgroundTimer=null,Object(o.a)(this,"changeBackground",tn,this)},qt=Object(u.a)(Xt.prototype,"init",[p.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Object(c.a)(l.a.mark(function e(){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.require("electron").remote.getGlobal("ipc");case 2:return nn=e.sent,e.next=5,Promise.all([ln.init(nn),cn.init(nn),on.init(nn)]);case 5:return e.next=7,sn.init();case 7:case"end":return e.stop()}},e,this)}))}}),Jt=Object(u.a)(Xt.prototype,"view",[p.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return E.VOLS}}),Qt=Object(u.a)(Xt.prototype,"changeView",[p.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2?arguments[2]:void 0,a="function"===typeof i;if(t!==e.view){var r=e.view;if(e.view=t,n||r===E.PLAYING||e.viewHistory.push(r),t!==E.PLAYING&&r!==E.PLAYING){var l=document.querySelector(".view-".concat(r)),c=document.querySelector(".view-".concat(t));if(l&&c){var o=r===E.VOLS&&t===E.VOL_INFO||r===E.SINGLES&&t===E.SINGLE_INFO||r===E.ARTICLES&&t===E.ARTICLE_INFO,s=r===E.VOL_INFO||r===E.SINGLE_INFO||r===E.ARTICLE_INFO;o?(c.className+=" show-with-cover",l.className=l.className.replace(" show","")):s?(c.className+=" show",l.className=l.className.replace(" show-with-cover","")):(c.className+=" show",l.className=l.className.replace(" show","")),c.style.zIndex=t===E.VOLS_TYPE?"20":"5",setTimeout(function(){l.style.zIndex="-1"},500),setTimeout(function(){"function"===typeof i&&i()},o?2e3:500)}}else a&&i()}else a&&i()}}}),Zt=Object(u.a)(Xt.prototype,"backView",[p.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var n=e.viewHistory.pop();if(void 0===n)throw new Error("Invalid previous view");e.changeView(n,!0,t)}}}),en=Object(u.a)(Xt.prototype,"backgroundImage",[p.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ln.allVols[0].cover}}),tn=Object(u.a)(Xt.prototype,"changeBackground",[p.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.setBackgroundTimer&&clearTimeout(e.setBackgroundTimer);e.setBackgroundTimer=window.setTimeout(function(){var n;switch(t){case E.VOLS:n=ln.selectedVol.cover;break;case E.SINGLES:n=cn.selectedSingle.cover;break;case E.ARTICLES:n=on.selectedArticle.cover;break;default:throw"Invalid type"}window.clearTimeout(e.setBackgroundTimer),e.setBackgroundTimer=null,e.backgroundImage=n},1e3)}}}),Xt),pn=n(6),gn=n(9),dn=n.n(gn),mn=n(44),fn=n.n(mn),yn=n(45),bn=n.n(yn),hn=n(46),vn=n.n(hn),On=n(47),En=n.n(On),In=n(48),kn=n.n(In),Sn=n(49),Pn=n.n(Sn),An=n(50),xn=n.n(An),Tn=n(51),Ln=n.n(Tn),wn=n(52),jn=n.n(wn),Vn=n(53),Nn=n.n(Vn),Cn=n(54),Rn=n.n(Cn),Gn=n(55),Dn=n.n(Gn),zn=n(56),Bn=n.n(zn),_n=n(57),Yn=n.n(_n),Fn=n(58),Un=n.n(Fn),Mn=n(59),Hn=n.n(Mn),Wn=n(60),Kn=n.n(Wn),$n=n(61),Xn=n.n($n),qn=n(62),Jn=n.n(qn),Qn=n(63),Zn=n.n(Qn),ei=n(64),ti=n.n(ei),ni=n(65),ii=n.n(ni),ai=n(66),ri=n.n(ai),li=n(67),ci=n.n(li),oi=n(68),si=n.n(oi),ui=n(69),pi=n.n(ui),gi=n(70),di=n.n(gi),mi=n(71),fi=n.n(mi),yi=n(72),bi=n.n(yi),hi=n(73),vi=n.n(hi),Oi=n(74),Ei=n.n(Oi),Ii=n(75),ki=n.n(Ii);n(85);function Si(e){var t,n=e.type,a=e.className,r=e.onClick,l=e.preventDefault;switch(n){case an.BACK:t=bn.a;break;case an.CATEGORY:t=vn.a;break;case an.SEARCH:t=En.a;break;case an.SHARE:t=kn.a;break;case an.SOURCE:t=Pn.a;break;case an.ARTICLE:t=xn.a;break;case an.ARTICLE_SOLID:t=Ln.a;break;case an.SINGLE:t=jn.a;break;case an.SINGLE_SOLID:t=Nn.a;break;case an.USER:t=Rn.a;break;case an.VOL:t=Dn.a;break;case an.VOL_SOLID:t=Bn.a;break;case an.PLAY:t=Hn.a;break;case an.PLAY_SOLID:t=Kn.a;break;case an.PAUSE:t=Xn.a;break;case an.PAUSE_SOLID:t=Jn.a;break;case an.LIKE:t=Yn.a;break;case an.LIKE2:t=Un.a;break;case an.LOGO:t=fn.a;break;case an.CLOUD:t=Zn.a;break;case an.WAVE:t=ti.a;break;case an.PRE:t=ii.a;break;case an.NEXT:t=ri.a;break;case an.PRE2:t=di.a;break;case an.NEXT2:t=fi.a;break;case an.RANDOM:t=ci.a;break;case an.ARROW_LEFT:t=si.a;break;case an.ARROW_RIGHT:t=pi.a;break;case an.SHUFFLE:t=bi.a;break;case an.ORDER:t=Ei.a;break;case an.LOOP:t=vi.a;break;case an.EXPAND:t=ki.a;break;default:throw"Invalid icon type"}return i.createElement("img",{className:a?"icon ".concat(a):"icon",src:t,onClick:function(e){return l&&function(e){e.preventDefault(),e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()}(e),"function"===typeof r&&r(e),!1},alt:"icon"})}!function(e){e[e.BACK=0]="BACK",e[e.CATEGORY=1]="CATEGORY",e[e.SEARCH=2]="SEARCH",e[e.SHARE=3]="SHARE",e[e.SOURCE=4]="SOURCE",e[e.ARTICLE=5]="ARTICLE",e[e.ARTICLE_SOLID=6]="ARTICLE_SOLID",e[e.SINGLE=7]="SINGLE",e[e.SINGLE_SOLID=8]="SINGLE_SOLID",e[e.USER=9]="USER",e[e.VOL=10]="VOL",e[e.VOL_SOLID=11]="VOL_SOLID",e[e.LIKE=12]="LIKE",e[e.LIKE2=13]="LIKE2",e[e.PLAY=14]="PLAY",e[e.PLAY_SOLID=15]="PLAY_SOLID",e[e.PAUSE=16]="PAUSE",e[e.PAUSE_SOLID=17]="PAUSE_SOLID",e[e.LOGO=18]="LOGO",e[e.CLOUD=19]="CLOUD",e[e.WAVE=20]="WAVE",e[e.PRE=21]="PRE",e[e.PRE2=22]="PRE2",e[e.NEXT=23]="NEXT",e[e.NEXT2=24]="NEXT2",e[e.RANDOM=25]="RANDOM",e[e.ARROW_LEFT=26]="ARROW_LEFT",e[e.ARROW_RIGHT=27]="ARROW_RIGHT",e[e.SHUFFLE=28]="SHUFFLE",e[e.LOOP=29]="LOOP",e[e.ORDER=30]="ORDER",e[e.EXPAND=31]="EXPAND"}(an||(an={}));var Pi=n(76),Ai=n.n(Pi);n(87);function xi(e){return dn()({"nav-item-hide":e})}function Ti(){d.emit(g.ScrollBackVolTypes),un.changeView(E.VOLS_TYPE)}function Li(){un.view===E.PLAYING&&un.backView(Li),d.emit(g.ScrollBackVols),un.changeView(E.VOLS)}function wi(){un.view===E.PLAYING&&un.backView(wi),d.emit(g.ScrollBackSingles),un.changeView(E.SINGLES)}function ji(){un.view===E.PLAYING&&un.backView(ji),d.emit(g.ScrollBackArticles),un.changeView(E.ARTICLES)}var Vi=Object(pn.a)(function(){var e=un.view;return i.createElement("div",{id:"nav",style:{opacity:e===E.VOLS_TYPE?0:1}},i.createElement("div",{id:"nav-actions"},i.createElement("div",{className:xi([E.VOLS,E.SINGLES,E.ARTICLES].includes(e)),onClick:un.backView},i.createElement(Si,{type:an.BACK}),i.createElement("p",null,"\u8fd4\u56de")),i.createElement("div",{className:xi(e!==E.PLAYING),onClick:sn.goToPlayingSource},i.createElement(Si,{type:an.SOURCE}),i.createElement("p",null,"\u6765\u6e90")),i.createElement("div",{className:xi(e!==E.VOLS),onClick:Ti},i.createElement(Si,{type:an.CATEGORY}),i.createElement("p",null,ln.volType===x.ALL?"\u5206\u7c7b":ln.volTypeItem.name)),i.createElement("div",null,i.createElement(Si,{type:an.SEARCH}),i.createElement("p",null,"\u641c\u7d22")),i.createElement("div",{className:xi([E.VOLS,E.SINGLES,E.ARTICLES].includes(e))},i.createElement(Si,{type:an.SHARE}),i.createElement("p",null,"\u5206\u4eab"))),i.createElement("img",{id:"nav-logo",src:Ai.a,alt:"logo"}),i.createElement("div",{id:"nav-buttons"},i.createElement("div",{onClick:Li},i.createElement(Si,{type:e===E.VOLS||e===E.VOL_INFO?an.VOL_SOLID:an.VOL}),i.createElement("p",null,"\u671f\u520a")),i.createElement("div",{onClick:wi},i.createElement(Si,{type:e===E.SINGLES||e===E.SINGLE_INFO?an.SINGLE_SOLID:an.SINGLE}),i.createElement("p",null,"\u5355\u66f2")),i.createElement("div",{onClick:ji},i.createElement(Si,{type:e===E.ARTICLES||e===E.ARTICLE_INFO?an.ARTICLE_SOLID:an.ARTICLE}),i.createElement("p",null,"\u4e13\u680f")),i.createElement("div",null,i.createElement(Si,{type:an.USER}),i.createElement("p",null,"\u6211\u7684"))))});n(89);var Ni=Object(pn.a)(function(){return i.createElement("div",{id:"bg"},i.createElement("div",{id:"bg-img",style:{backgroundImage:'url("'.concat(un.backgroundImage,'")')}}))});n(91);var Ci,Ri=Object(pn.a)(function(){var e=un.view,t=sn.playingInfo,n=sn.playingProgress;return[E.VOL_INFO,E.SINGLE_INFO,E.ARTICLE_INFO,E.PLAYING].includes(e)?i.createElement("div",{id:"mini-player"},i.createElement("div",{id:"mini-player-operation"},i.createElement(Si,{type:an.WAVE}),i.createElement(Si,{type:an.CLOUD}),i.createElement(Si,{type:an.LIKE})),i.createElement("div",{id:"mini-player-cover",style:{backgroundImage:"url(".concat(t.cover,")")},onClick:function(){return un.changeView(E.PLAYING)}},i.createElement(Si,{type:an.EXPAND})),i.createElement("div",{id:"mini-player-info"},i.createElement("div",{id:"mini-player-info-text"},i.createElement("p",{id:"mini-player-info-name"},t.name),i.createElement("p",{id:"mini-player-info-album"},t.album," / ",t.artist)),i.createElement("div",{id:"mini-player-controller"},i.createElement(Si,{type:an.PRE,onClick:sn.pre}),sn.playingStatus===k.PLAYING?i.createElement(Si,{className:"play",type:an.PAUSE,onClick:sn.pause}):i.createElement(Si,{className:"play",type:an.PLAY,onClick:sn.play}),i.createElement(Si,{type:an.NEXT,onClick:sn.next}),i.createElement(Si,{className:"play-mode",type:an.RANDOM})),i.createElement("div",{id:"mini-player-progress"},i.createElement("div",{style:{width:"".concat(n,"%")}})))):i.createElement("div",{id:"mini-player-collapsed"},i.createElement(Si,{type:an.WAVE,onClick:function(){return un.changeView(E.PLAYING)}}))});n(93);function Gi(e){Ci=e}function Di(e){var t=e.type,n=e.name,a=e.img,r=e.value;return i.createElement("div",{key:t,className:"category-item",onClick:function(){return ln.changeVolType(r)}},i.createElement("p",{className:"category-item-name"},n),i.createElement("p",{className:"category-item-type"},t),i.createElement("div",{className:"category-item-bg",style:{backgroundImage:"url(".concat(a,")")}}))}function zi(){return i.createElement("div",{id:"vol-types",className:"page view-".concat(E.VOLS_TYPE),ref:Gi},rn.map(Di))}d.on(g.ScrollBackVolTypes,function(){Ci.scrollTo(0,0)});var Bi=n(14),_i=n(11),Yi=n(15),Fi=(n(95),function(e){function t(){var e,n;Object(s.a)(this,t);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return(n=Object(Bi.a)(this,(e=Object(_i.a)(t)).call.apply(e,[this].concat(a)))).coverRef=null,n.getCoverRef=function(e){e&&(n.coverRef=e)},n.onEmitSelectVol=function(e){if(e===n.props.index){var t=n.coverRef;v(t)?setTimeout(n.onClick,300):(t.scrollIntoView({behavior:"smooth"}),setTimeout(n.onClick,600))}},n.onClick=function(){d.emit(g.ShowVolBackground,n.props.volInfo.cover,n.coverRef,function(){d.emit(g.ScrollBackVol),ln.selectVol(n.props.index)})},n}return Object(Yi.a)(t,e),Object(A.a)(t,[{key:"componentDidMount",value:function(){d.on(g.SelectVol,this.onEmitSelectVol)}},{key:"componentWillUnmount",value:function(){d.cancel(g.SelectVol,this.onEmitSelectVol)}},{key:"render",value:function(){var e=this.props,t=e.volInfo,n=e.isPlaying;return i.createElement("div",{className:"vol-item",onClick:this.onClick},i.createElement("div",{ref:this.getCoverRef,className:"vol-item-cover",style:{backgroundImage:"url(".concat(t.cover,")")}}),i.createElement("div",{className:"vol-item-info"},i.createElement("p",{className:"vol-item-info-index"},"vol.",t.vol),i.createElement("p",{className:"vol-item-info-title"},t.title),i.createElement("div",{className:"vol-item-operation"},i.createElement(Si,{type:an.LIKE}),n?i.createElement(Si,{type:an.PAUSE,onClick:sn.pause,preventDefault:!0}):i.createElement(Si,{type:an.PLAY,onClick:function(){return sn.playVolTrack(t.id)},preventDefault:!0}))),i.createElement("div",{className:"vol-item-tags"},t.tags.map(function(e){return i.createElement("span",{key:e},"#",e)})),i.createElement("div",{className:"vol-item-bg",style:{backgroundColor:t.color}}))}}]),t}(i.Component)),Ui=(n(97),function(){});function Mi(e){var t=0===e.paginationCurrentIndex,n=e.paginationCurrentIndex+1===e.paginationTotalIndex;return i.createElement("div",{id:"pagination"},i.createElement(Si,{type:an.ARROW_LEFT,className:dn()({disable:t}),onClick:t?Ui:e.onPre}),e.pages.map(function(t){return i.createElement("span",{key:t,className:dn()({"pagination-item":!0,activated:t===e.currentPage}),onClick:function(){return e.togglePage(t)}},t+1)}),i.createElement(Si,{type:an.ARROW_RIGHT,className:dn()({disable:n}),onClick:n?Ui:e.onNext}))}var Hi;n(99);function Wi(e){Hi=e}var Ki=Object(pn.a)(function(){var e=ln.displayVols;return i.createElement("div",{id:"vols",className:"page show view-".concat(E.VOLS),style:{zIndex:1},ref:Wi},e.map(function(e,t){return i.createElement(Fi,{key:e.id,volInfo:e,index:t,isPlaying:sn.isVolPlaying(e.id),isLiked:!1})}),i.createElement(Mi,{pages:ln.displayVolPaginations,currentPage:ln.volCurrentPage,togglePage:ln.toggleVolIndex,paginationCurrentIndex:ln.volPaginationCurrentIndex,paginationTotalIndex:ln.volPaginationTotalIndex,onNext:ln.nextVolPagination,onPre:ln.preVolPagination}))});d.on(g.ScrollBackVols,function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]?Hi.scrollTo({top:0,left:0,behavior:"smooth"}):Hi.scrollTo(0,0)});var $i=n(12);n(101);function Xi(e){var t=e.trackInfo,n=e.isPlaying,a=e.onPlay,r=e.onPause,l=e.onClick;return i.createElement("div",{className:"vol-track-item",onClick:l},i.createElement("div",{className:"vol-track-item-cover",style:{backgroundImage:"url(".concat(t.cover,")")}}),i.createElement("p",{className:"vol-track-item-name"},t.name),i.createElement("p",{className:"vol-track-item-album"},t.album),i.createElement("p",{className:"vol-track-item-artist"},t.artist),i.createElement("div",{className:"vol-track-item-operation"},n?i.createElement(Si,{className:"play",type:an.PAUSE_SOLID,onClick:r,preventDefault:!0}):i.createElement(Si,{className:"play",type:an.PLAY_SOLID,onClick:a,preventDefault:!0}),i.createElement(Si,{className:"like",type:an.LIKE,preventDefault:!0})))}var qi,Ji,Qi;n(103);function Zi(e){Qi=e}function ea(e){qi=e}function ta(e){Ji=e}var na=Object(pn.a)(function(){var e=ln.selectedVol;return i.createElement("div",{id:"vol",className:"page view-".concat(E.VOL_INFO)},i.createElement("div",{id:"vol-bg",ref:Zi,style:{backgroundImage:"url(".concat(e.cover,")")}}),i.createElement("div",{id:"vol-bg-mask"}),i.createElement("div",{id:"vol-info",ref:ea},i.createElement("div",{id:"vol-info-tags"},e.tags.map(function(e){return i.createElement("span",{key:e},"#",e)})),i.createElement("p",{id:"vol-info-index"},"vol.",e.vol,i.createElement(Si,{type:an.LIKE}),sn.isVolPlaying(e.id)?i.createElement(Si,{type:an.PAUSE,onClick:sn.pause}):i.createElement(Si,{type:an.PLAY,onClick:function(){return sn.playVolTrack(e.id)}})),i.createElement("p",{id:"vol-info-title"},e.title),i.createElement("div",{id:"vol-info-desc",dangerouslySetInnerHTML:{__html:e.desc}}),i.createElement("div",{id:"vol-info-date"},i.createElement(Si,{type:an.LOGO}),i.createElement("span",{id:"vol-info-author"},e.author," \xb7 "),i.createElement("span",{id:"vol-info-date"},e.date))),i.createElement("div",{id:"vol-tracks",ref:ta},e.tracks.map(function(t,n){return i.createElement(Xi,{key:t.id,trackInfo:t,isLiked:!1,isPlaying:sn.isVolTrackPlaying(e.id,n),onPlay:function(){return sn.playVolTrack(e.id,n)},onPause:sn.pause,onClick:function(){return un.changeView(E.PLAYING),sn.playVolTrack(e.id,n)}})})))});d.on(g.ShowVolBackground,function(e,t,n){var i=t.getBoundingClientRect(),a=i.top,r=i.right,l=i.bottom,c=i.left;({top:a,right:r,bottom:l,left:c}),Qi.style.backgroundImage="url(".concat(e,")"),Qi.style.opacity="1",Qi.style.top=b(a),Qi.style.left=b(c),Qi.style.width=b(r-c),Qi.style.height=b(l-a),Object($i.a)({targets:Qi,easing:"easeInOutExpo",width:"100%",height:"100%",duration:600,top:0,left:0,begin:n})}),d.on(g.ScrollBackVol,function(){qi.scrollTo(0,0),Ji.scrollTo(0,0)});n(105);var ia,aa=function(e){function t(){var e,n;Object(s.a)(this,t);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return(n=Object(Bi.a)(this,(e=Object(_i.a)(t)).call.apply(e,[this].concat(a)))).coverRef=null,n.getCoverRef=function(e){e&&(n.coverRef=e)},n.onEmitSelectSingle=function(e){if(e===n.props.index){var t=n.coverRef;v(t)?setTimeout(n.onClick,300):(t.scrollIntoView({behavior:"smooth"}),setTimeout(n.onClick,600))}},n.onClick=function(){d.emit(g.ShowSingleBackground,n.props.singleInfo.cover,n.coverRef,function(){return cn.selectSingle(n.props.index)})},n}return Object(Yi.a)(t,e),Object(A.a)(t,[{key:"componentDidMount",value:function(){d.on(g.SelectSingle,this.onEmitSelectSingle)}},{key:"componentWillUnmount",value:function(){d.cancel(g.SelectSingle,this.onEmitSelectSingle)}},{key:"render",value:function(){var e=this.props,t=e.singleInfo,n=e.isPlaying;return i.createElement("div",{key:t.id,className:"single-item",onClick:this.onClick},i.createElement("div",{ref:this.getCoverRef,className:"single-item-cover",style:{backgroundImage:"url(".concat(t.cover,")")}}),i.createElement("div",{className:"single-item-info"},i.createElement("div",{className:"single-item-info-container"},i.createElement("p",{className:"single-item-info-name"},t.name),i.createElement("p",{className:"single-item-info-artist"},t.artist)),i.createElement("div",{className:"single-item-operation"},i.createElement(Si,{type:an.LIKE}),n?i.createElement(Si,{preventDefault:!0,type:an.PAUSE,onClick:sn.pause}):i.createElement(Si,{preventDefault:!0,type:an.PLAY,onClick:function(){return sn.playSingle(t.id)}}))),i.createElement("div",{className:"single-item-bg",style:{backgroundColor:t.color}}))}}]),t}(i.Component);n(107);function ra(e){ia=e}var la=Object(pn.a)(function(){var e=cn.displaySingles;return i.createElement("div",{id:"singles",className:"page view-".concat(E.SINGLES),ref:ra},e.map(function(e,t){return i.createElement(aa,{key:e.date,singleInfo:e,index:t,isPlaying:sn.isSinglePlaying(e.id),isLiked:!1})}),i.createElement(Mi,{pages:cn.displaySinglePaginations,currentPage:cn.singleCurrentPage,togglePage:cn.toggleSingleIndex,paginationCurrentIndex:cn.singlePaginationCurrentIndex,paginationTotalIndex:cn.singlePaginationTotalIndex,onNext:cn.nextSinglePagination,onPre:cn.preSinglePagination}))});d.on(g.ScrollBackSingles,function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]?ia.scrollTo({top:0,left:0,behavior:"smooth"}):ia.scrollTo(0,0)});var ca;n(109);function oa(e){ca=e}var sa=Object(pn.a)(function(){var e,t=cn.selectedSingle;return t?i.createElement("div",{id:"single",className:"page view-".concat(E.SINGLE_INFO)},i.createElement("div",{id:"single-bg",ref:oa,style:{backgroundImage:"url(".concat(t.cover,")")}}),i.createElement("div",{id:"single-bg-mask"}),i.createElement("div",{id:"single-info"},i.createElement("p",{id:"single-info-name"},t.name,i.createElement(Si,{type:an.LIKE}),sn.isSinglePlaying(t.id)?i.createElement(Si,{preventDefault:!0,type:an.PAUSE,onClick:sn.pause}):i.createElement(Si,{preventDefault:!0,type:an.PLAY,onClick:function(){return sn.playSingle(t.id)}})),i.createElement("p",{id:"single-info-artist"},t.artist),i.createElement("div",{id:"single-info-desc",dangerouslySetInnerHTML:{__html:t.desc}}),i.createElement("div",{id:"single-info-date"},i.createElement(Si,{type:an.LOGO}),i.createElement("span",{id:"vol-info-recommender"},"\u63a8\u8350\u4eba\uff1a",(e=t.recommender).trim()?e.replace(/-/g,"").trim():"LUO"," \xb7"," "),i.createElement("span",{id:"vol-info-date"},function(e){var t=e.toString();return"".concat(t.slice(0,4),"/").concat(t.slice(4,6),"/").concat(t.slice(6,8))}(t.date))))):null});d.on(g.ShowSingleBackground,function(e,t,n){var i=t.getBoundingClientRect(),a=i.top,r=i.right,l=i.bottom,c=i.left;({top:a,right:r,bottom:l,left:c}),ca.style.backgroundImage="url(".concat(e,")"),ca.style.opacity="1",ca.style.top=b(a),ca.style.left=b(c),ca.style.width=b(r-c),ca.style.height=b(l-a),Object($i.a)({targets:ca,easing:"easeInOutExpo",width:"100%",height:"100%",duration:500,top:0,left:0,begin:n})});n(111);var ua,pa=function(e){function t(){var e,n;Object(s.a)(this,t);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return(n=Object(Bi.a)(this,(e=Object(_i.a)(t)).call.apply(e,[this].concat(a)))).coverRef=null,n.getCoverRef=function(e){e&&(n.coverRef=e)},n.onEmitSelectArticle=function(e){if(e===n.props.index){var t=n.coverRef;v(t)?setTimeout(n.onClick,300):(t.scrollIntoView({behavior:"smooth"}),setTimeout(n.onClick,600))}},n.onClick=function(){d.emit(g.ShowArticleBackground,n.props.articleInfo.cover,n.coverRef,function(){d.emit(g.ScrollBackArticle),on.selectArticle(n.props.index)})},n}return Object(Yi.a)(t,e),Object(A.a)(t,[{key:"componentDidMount",value:function(){d.on(g.SelectArticle,this.onEmitSelectArticle)}},{key:"componentWillUnmount",value:function(){d.cancel(g.SelectArticle,this.onEmitSelectArticle)}},{key:"render",value:function(){var e=this.props,t=e.articleInfo,n=e.isPlaying;return i.createElement("div",{className:"article-item",onClick:this.onClick},i.createElement("div",{ref:this.getCoverRef,className:"article-item-cover",style:{backgroundImage:"url(".concat(t.cover,")")}}),i.createElement("div",{className:"article-item-info"},i.createElement("div",{className:"article-item-info-container"},i.createElement("p",{className:"article-item-info-title"},t.title),i.createElement("p",{className:"article-item-info-meta"},t.metaInfo)),i.createElement("div",{className:"article-item-operation"},i.createElement(Si,{type:an.LIKE}),n?i.createElement(Si,{type:an.PAUSE,onClick:sn.pause,preventDefault:!0}):i.createElement(Si,{type:an.PLAY,onClick:function(){return sn.playArticleTrack(t.id)},preventDefault:!0}))),i.createElement("div",{className:"article-item-bg",style:{backgroundColor:t.color}}))}}]),t}(i.Component);n(113);function ga(e){ua=e}var da=Object(pn.a)(function(){var e=on.displayArticles;return i.createElement("div",{id:"articles",className:"page view-".concat(E.ARTICLES),ref:ga},e.map(function(e,t){return i.createElement(pa,{key:e.id,articleInfo:e,index:t,isPlaying:sn.isArticlePlaying(e.id),isLiked:!1})}),i.createElement(Mi,{pages:on.displayArticlePaginations,currentPage:on.articleCurrentPage,togglePage:on.toggleArticleIndex,paginationCurrentIndex:on.articlePaginationCurrentIndex,paginationTotalIndex:on.articlePaginationTotalIndex,onNext:on.nextArticlePagination,onPre:on.preArticlePagination}))});d.on(g.ScrollBackArticles,function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]?ua.scrollTo({top:0,left:0,behavior:"smooth"}):ua.scrollTo(0,0)});n(115);function ma(e){var t=e.trackInfo,n=e.isPlaying,a=e.onPause,r=e.onPlay,l=e.onClick;return i.createElement("div",{className:"article-track-item",onClick:l},i.createElement("div",{className:"article-track-item-cover",style:{backgroundImage:"url(".concat(t.cover,")")}}),i.createElement("p",{className:"article-track-item-name"},t.name),i.createElement("p",{className:"article-track-item-album"},t.album),i.createElement("p",{className:"article-track-item-artist"},t.artist),i.createElement("div",{className:"article-track-item-operation"},n?i.createElement(Si,{className:"play",type:an.PAUSE_SOLID,onClick:a,preventDefault:!0}):i.createElement(Si,{className:"play",type:an.PLAY_SOLID,onClick:r,preventDefault:!0}),i.createElement(Si,{className:"like",type:an.LIKE,preventDefault:!0})))}var fa,ya,ba;n(117);function ha(e){ba=e}function va(e){fa=e}function Oa(e){ya=e}var Ea=Object(pn.a)(function(){var e=on.selectedArticle;return e?i.createElement("div",{id:"article",className:"page view-".concat(E.ARTICLE_INFO)},i.createElement("div",{id:"article-bg",ref:ha,style:{backgroundImage:"url(".concat(e.cover,")")}}),i.createElement("div",{id:"article-bg-mask"}),i.createElement("div",{id:"article-info",ref:va},i.createElement("p",{id:"article-info-title"},e.title,i.createElement(Si,{type:an.LIKE}),sn.isArticlePlaying(e.id)?i.createElement(Si,{type:an.PAUSE,onClick:sn.pause}):i.createElement(Si,{type:an.PLAY,onClick:function(){return sn.playArticleTrack(e.id)}})),i.createElement("p",{id:"article-info-meta"},e.metaInfo),i.createElement("div",{id:"article-info-desc",dangerouslySetInnerHTML:{__html:e.desc}}),i.createElement("div",{id:"article-info-date"},i.createElement(Si,{type:an.LOGO}),i.createElement("span",{id:"article-info-author"},e.author," \xb7 "),i.createElement("span",{id:"article-info-date"},e.date))),i.createElement("div",{id:"article-tracks",ref:Oa},e.tracks.map(function(t,n){return i.createElement(ma,{key:t.id,trackInfo:t,isLiked:!1,isPlaying:sn.isArticleTrackPlaying(e.id,n),onPause:sn.pause,onPlay:function(){return sn.playArticleTrack(e.id,n)},onClick:function(){return un.changeView(E.PLAYING),sn.playArticleTrack(e.id,n)}})}))):null});d.on(g.ShowArticleBackground,function(e,t,n){var i=t.getBoundingClientRect(),a=i.top,r=i.right,l=i.bottom,c=i.left;({top:a,right:r,bottom:l,left:c}),ba.style.backgroundImage="url(".concat(e,")"),ba.style.opacity="1",ba.style.top=b(a),ba.style.left=b(c),ba.style.width=b(r-c),ba.style.height=b(l-a),Object($i.a)({targets:ba,easing:"easeInOutExpo",width:"100%",height:"100%",duration:600,top:0,left:0,begin:n})}),d.on(g.ScrollBackArticle,function(){fa.scrollTo(0,0),ya.scrollTo(0,0)});n(119);var Ia=y(0,80);function ka(e){var t=e.isActive,n=e.show;return i.createElement("div",{className:"sound-wave-container",style:{display:n?"block":"none"}},i.createElement("div",{className:dn()({"sound-wave":!0,active:t})},Ia.map(function(e){return i.createElement("i",{key:e,className:"sound-wave-item"})})))}n(121);var Sa=Object(pn.a)(function(){var e=sn.formatedTotalTime,t=sn.formatedPlayedTime,n=sn.playingProgress,a=sn.playingStatus,r=sn.playingInfo,l=r.cover,c=r.name,o=r.artist,s=r.album,u=sn.playingLyrics,p=un.view===E.PLAYING,g=a===k.PLAYING;return i.createElement("div",{id:"player",className:"view-".concat(E.PLAYING," ")+dn()({show:un.view===E.PLAYING})},i.createElement("div",{id:"player-left-block"},i.createElement("div",{id:"player-cover",style:{backgroundImage:"url(".concat(l,")")},className:dn()({active:g})}),i.createElement("div",null,i.createElement("div",{id:"player-control"},i.createElement(Si,{type:an.PRE2,onClick:sn.pre}),sn.playingStatus===k.PLAYING?i.createElement(Si,{type:an.PAUSE,onClick:sn.pause}):i.createElement(Si,{type:an.PLAY,onClick:sn.play}),i.createElement(Si,{type:an.NEXT2,onClick:sn.next})),i.createElement("div",{id:"player-operation"},i.createElement("div",null,i.createElement(Si,{type:an.LIKE2}),i.createElement("p",null,"\u559c\u6b22")),i.createElement("div",{className:"player-mode"},i.createElement(Si,{type:an.SHUFFLE}),i.createElement("p",null,"\u968f\u673a")),i.createElement("div",null,i.createElement(Si,{type:an.CLOUD}),i.createElement("p",null,"\u79bb\u7ebf"))))),i.createElement("div",{id:"player-right-block"},i.createElement("div",{id:"player-info"},i.createElement("p",{id:"player-info-name"},c),i.createElement("p",{id:"player-info-album"},s),i.createElement("p",{id:"player-info-artist"},o)),u?i.createElement("div",{id:"player-lyric",className:dn()({"with-lyric":!0,hide:!p})},i.createElement("p",null,u[0]),i.createElement("p",null,u[1]),i.createElement("p",null,u[2]),i.createElement("p",null,u[3]),i.createElement("p",null,u[4]),i.createElement("p",null,u[5]),i.createElement("p",null,u[6]),i.createElement("p",null,u[7]),i.createElement("p",null,u[8])):"\u6682\u65e0\u6b4c\u8bcd"),i.createElement("div",{id:"player-bg"},i.createElement(ka,{isActive:g,show:p}),i.createElement("div",{id:"player-bg-image",style:{backgroundImage:"url(".concat(l,")")}})),i.createElement("div",{id:"player-time"},i.createElement("p",null,t),i.createElement("div",{id:"player-time-control"},i.createElement("input",{min:"0",max:"100",step:"1",type:"range",onChange:function(e){sn.changePlayingRatio(+e.target.value)}}),i.createElement("div",{id:"player-time-progress",style:{width:"".concat(n,"%")}})),i.createElement("p",null,e)))});function Pa(){return i.createElement(i.Fragment,null,i.createElement(Ni,{key:0}),i.createElement(Vi,{key:1}),i.createElement(Ri,null),i.createElement(zi,null),i.createElement(Ki,null),i.createElement(na,null),i.createElement(la,null),i.createElement(sa,null),i.createElement(da,null),i.createElement(Ea,null),i.createElement(Sa,null))}n(123);un.init().then(function(){var e=document.getElementById("root"),t=document.querySelector("#boot-screen");a.render(i.createElement(Pa,null),e,function(){setTimeout(function(){t.className="hide"},500),setTimeout(function(){t.style.display="none"},2e3)})}).catch(function(e){console.error(e)})}]),[[77,2,1]]]);
//# sourceMappingURL=main.9132dde2.chunk.js.map